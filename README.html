<!DOCTYPE html>

<html>
<head>
  <title>README.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page_wrapper">
            <div id="jump_page">
              
                
                <a class="source" href="README.html">
                  README.md
                </a>
              
                
                <a class="source" href="framework.html">
                  framework.js
                </a>
              
                
                <a class="source" href="lasso-command.html">
                  lasso-command.js
                </a>
              
                
                <a class="source" href="index.html">
                  index.js
                </a>
              
                
                <a class="source" href="reporter.html">
                  reporter.js
                </a>
              
                
                <a class="source" href="coverage.html">
                  coverage.js
                </a>
              
                
                <a class="source" href="watcher.html">
                  watcher.js
                </a>
              
            </div>
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>README.md</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <p><a href="https://travis-ci.org/lasso-js/karma-lasso"><img src="https://travis-ci.org/lasso-js/karma-lasso.svg" alt="Build Status"></a>
<a href="https://codeclimate.com/github/lasso-js/karma-lasso"><img src="https://codeclimate.com/github/lasso-js/karma-lasso/badges/gpa.svg" alt="Code Climate"></a></p>
<p><a href="https://david-dm.org/lasso-js/karma-lasso"><img src="https://david-dm.org/lasso-js/karma-lasso.svg" alt="Dependency Status"></a>
<a href="https://david-dm.org/lasso-js/karma-lasso#info=devDependencies"><img src="https://david-dm.org/lasso-js/karma-lasso/dev-status.svg" alt="devDependency Status"></a>
<a href="https://david-dm.org/lasso-js/karma-lasso#info=peerDependencies"><img src="https://david-dm.org/lasso-js/karma-lasso/peer-status.svg" alt="peerDependency Status"></a></p>
<h1 id="karma-lasso">karma-lasso</h1>
<blockquote>
<p>Karma Plugin for <a href="https://github.com/lasso-js/lasso">Lasso.js</a>.</p>
</blockquote>
<h2 id="installation">Installation</h2>
<p>The easiest way is to keep <code>karma-lasso</code> as a devDependency in your <code>package.json</code>.</p>
<pre><code class="lang-json">
{
"<span class="hljs-attr">devDependencies</span>": {
"<span class="hljs-attr">karma</span>": <span class="hljs-string">"~0.10"</span>,
"<span class="hljs-attr">karma-lasso</span>": <span class="hljs-string">"^0.0"</span>
}
}
</code></pre>
<p>or you can simply do it by:</p>
<pre><code class="lang-bash">
npm install karma-lasso --save-dev
</code></pre>
<h2 id="configuration">Configuration</h2>
<p><strong>Make sure you include <code>lasso</code> is the first element in the frameworks array so that optimization happens before other
frameworks add their sources in the source list.</strong></p>
<p>The basic configuration for karma-lasso is detailed below:</p>
<h3 id="for-simple-karma-testing">For Simple karma testing</h3>
<pre><code class="lang-javascript">
<span class="hljs-comment">// karma.conf.js</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>{
config.set({
browsers: [
<span class="hljs-string">'PhantomJS'</span>
],
reporters: [
<span class="hljs-string">'mocha'</span>
],
<span class="hljs-comment">// 1. specify the config to be passed to lasso in the lasso key</span>
lasso: {
plugins: [
<span class="hljs-string">'i18n-ebay/lasso/plugin'</span>,
<span class="hljs-string">'lasso-less'</span>,
<span class="hljs-string">'lasso-dust'</span>,
],
minify: <span class="hljs-literal">false</span>,
bundlingEnabled: <span class="hljs-literal">false</span>,
resolveCssUrls: <span class="hljs-literal">true</span>,
cacheProfile: <span class="hljs-string">'development'</span>,
<span class="hljs-comment">// 2. tempdir is the directory where all the generated files will be stored.</span>
tempdir: <span class="hljs-string">'./.test'</span>
},
<span class="hljs-comment">// 3. lasso should be added as a framework so that it can do bundling before tests</span>
frameworks: [
<span class="hljs-string">'lasso'</span>,
<span class="hljs-string">'mocha'</span>,
<span class="hljs-string">'chai'</span>
],
<span class="hljs-comment">// 4. Only specify the main test file that requires the source files. karma-lasso</span>
<span class="hljs-comment">// will expand it and add all required files</span>
files: [
<span class="hljs-string">'./test/client/**/*.js'</span>
],
<span class="hljs-comment">// 5. Add karma-lasso as a plugin</span>
plugins: [
<span class="hljs-comment">// .. other plugins</span>
<span class="hljs-string">'karma-lasso'</span>
]
});
};
</code></pre>
<h3 id="for-karma-testing-and-coverage-reports">For karma testing and coverage reports</h3>
<pre><code class="lang-javascript">
<span class="hljs-comment">// karma.conf.js</span>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>{
config.set({
browsers: [
<span class="hljs-string">'PhantomJS'</span>
],
<span class="hljs-comment">// 1. for generating coverage reports, add lasso as a reporter in config</span>
reporters: [
<span class="hljs-string">'mocha'</span>,
<span class="hljs-string">'lasso'</span>
],
<span class="hljs-comment">// 2. specify the config to be passed to lasso in the lasso key</span>
lasso: {
plugins: [
<span class="hljs-string">'i18n-ebay/lasso/plugin'</span>,
<span class="hljs-string">'lasso-less'</span>,
<span class="hljs-string">'lasso-dust'</span>,
],
minify: <span class="hljs-literal">false</span>,
bundlingEnabled: <span class="hljs-literal">false</span>,
resolveCssUrls: <span class="hljs-literal">true</span>,
cacheProfile: <span class="hljs-string">'development'</span>,     
<span class="hljs-comment">// 3. tempdir is the directory where all the generated files will be stored.</span>
tempdir: <span class="hljs-string">'./.coverage'</span>,
<span class="hljs-comment">// 4. to enable coverage, the coverage key should be added in the lasso config</span>
coverage: {
<span class="hljs-comment">// 5. A string glob pattern or an array of patterns matching the files for which,</span>
<span class="hljs-comment">// coverage report is to be generated </span>
files: <span class="hljs-string">'src/**/*.js'</span>,
<span class="hljs-comment">// 6. Specify the reporters to be used for coverage output. All Istanbul</span>
<span class="hljs-comment">// reporters are supported. Reporters can be an object if there is only one.</span>
<span class="hljs-comment">// Otherwise, you can pass an array. Each reporter will have a type and a dir </span>
<span class="hljs-comment">// key. The report will be generated in the directory specified in the dir key</span>
<span class="hljs-comment">// (one folder for each browser) </span>
reporters: [
{
type: <span class="hljs-string">'json'</span>,
dir: <span class="hljs-string">'./.coverage/json/'</span>
},
{
type: <span class="hljs-string">'html'</span>,
dir: <span class="hljs-string">'./.coverage/html-client/'</span>
}
]
}
}
});
</code></pre>
<h2 id="available-options">Available Options</h2>
<p>To configure this plugin, the <code>lasso</code> key in karma-config must be set.</p>
<p>This key will accept all the configurations that can be passed to the raptorjs lasso, except for these keys:</p>
<ol>
<li><p><code>tempdir</code> specifies the location of the directory where temporarily created files should be stored.</p>
</li>
<li><p><code>coverage</code> has the coverage configuration for the lasso. <code>coverage</code> can have the below keys</p>
</li>
<li><p><code>defaultIgnore</code> - By default, all non javascript files and all files in <code>node_module</code>, <code>test</code> and <code>tests</code> folder are ignored. If <code>defaultIgnore</code> is set to false, these files will not be ignored by default. </p>
</li>
<li><p><code>ignore</code> - A glob pattern or an array of glob patterns specifying which files to ignore. This list will be checked along with the default ignore list if <code>defaultIgnore</code> is true or not set. If you only want the ignore list specified here to be used, set the defaultIgnore option to false.</p>
</li>
<li><p><code>files</code> - A glob pattern or an array of glob patterns specifying which files to include for coverage. If a file is not ignored, it is tested with this pattern(s). If this option is not set, anything that is not ignored will be reported in coverage.</p>
</li>
<li><p><code>reporters</code> - Used to specify the reporters to be used for coverage output. All Istanbul reporters are supported. Reporters can be an object if there is only one. Otherwise, you can pass an array. Each reporter will have a type and a dir key. The report will be generated in the directory specified in the dir key (one folder for each browser) </p>
</li>
<li><p><code>watch</code> has the watch configuration for lasso.</p>
</li>
<li><p><code>defaultIgnore</code> - By default, all files in <code>node_module</code> folder are ignored. If <code>defaultIgnore</code> is set to false, these files will not be ignored by default. </p>
</li>
<li><p><code>ignore</code> - A glob pattern or an array of glob patterns specifying which files to ignore. This list will be checked along with the default ignore list if <code>defaultIgnore</code> is true or not set. If you only want the ignore list specified here to be used, set the defaultIgnore option to false.</p>
</li>
<li><p><code>files</code> - A glob pattern or an array of glob patterns specifying which files to include for watch. If a file is not ignored, it is tested with this pattern(s). If this option is not set, anything that is not ignored will be watched.</p>
</li>
<li><p><code>ignore</code> - A glob pattern or an array of glob patterns specifying which files to not optimize.</p>
</li>
<li><p><code>files</code> - A glob pattern or an array of glob patterns specifying which files to include for optimization.</p>
</li>
<li><p><code>moduleSearchPath</code> - if you are using the <a href="https://www.npmjs.com/package/app-module-path"><code>app-module-path</code></a> module, Set this key to a single path (<code>string</code>) or multiple paths (<code>array</code>). <strong>Note: This module will not resolve the app-module-path dependency. If you are using this param, make sure <code>app-module-path</code> is added as a dependency in your module.</strong></p>
</li>
</ol>

            </div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
